<!--
  Generated template for the BookmarkPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="toolbar-mm">
  <ion-toolbar>
    <button class="header-btn" ion-button menuToggle>
      <ion-icon name="ios-menu-outline"></ion-icon>
    </button>
    <ion-title>
      Kariah List
      <page-notification-bell></page-notification-bell>
    </ion-title>
  </ion-toolbar>
</ion-header>


<ion-content padding>
  <ion-card ngClass="card-general" *ngFor="let k of kariahs" (click)="openKariahDetail(k)">
    <ion-item ngClass="events-list">
      <ion-row>
        <ion-col col-10 col-md-11>
          <div ngClass="event-title">
            <label>{{k.kariahUserFullName}}</label>
          </div>
          <div ngClass="item-dateloc">
            <label>{{k.occupation}}</label>
          </div>
          <div ngClass="item-dateloc">
              <label>{{k.addressLine1}}, {{k.addressLine2}}, {{k.postCode}}</label>
            </div>
        </ion-col>
        <ion-col col-2 col-md-1>

          <!--If Already Join-->
          <!--ion-icon ngClass="attendance-tick" ios="ios-checkmark-circle" md="md-checkmark-circle"></ion-icon-->

          <!--If Not Joining Yet-->
          <div ngClass="quota-total" *ngIf="k.heirs && k.heirs.length>0">{{k.heirs.length}}</div>
          <div ngClass="quota-total" *ngIf="!k.heirs || k.heirs.length==0">0</div>
          <div ngClass="quota-title">Heirs</div>
        </ion-col>
      </ion-row>
    </ion-item>
  </ion-card>
</ion-content>

<ion-footer *ngIf="isAdmin">

  <!--Admin Role Button-->
  <ion-buttons>
    <button class="button button-primary rectangle" (click)="downloadKariahMembersList()"
      [disabled]="!kariahs || kariahs.length==0">
        <ion-icon ngClass="edit-icon" name="{{(!kariahs || kariahs.length==0)?'ios-alert-outline':'ios-download'}}"></ion-icon>{{(!kariahs || kariahs.length==0)? 'No Kariah Members' : 'Download as Excel File'}}
    </button>
  </ion-buttons>
</ion-footer>